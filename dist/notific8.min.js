/**
 * @author Will Steinmetz
 * Notification plug-in inspired by the notification style of Windows 8
 * Copyright (c)2013-2016, Will Steinmetz
 * Licensed under the BSD license.
 * http://opensource.org/licenses/BSD-3-Clause
 */var notific8;notific8=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;return window.notific8Defaults={life:1e4,theme:"legacy",color:"teal",sticky:!1,verticalEdge:"right",horizontalEdge:"top",zindex:1100,closeText:"close",onInit:null,onCreate:null,onClose:null,namespace:"notific8",height:{atomic:70,chicchat:120,legacy:90,materlialish:48}},window.notific8RegisteredModules={beforeContent:[],afterContent:[]},i=function(a){var b,c,d;for(c=""+a.namespace+"-container",d=document.getElementsByClassName(c),b=document.getElementsByTagName("body")[0];d.length>0;)b.removeChild(d[0])},k=function(a){var b,c,d,e,f;return f=a.settings,e=f.verticalEdge,c=f.horizontalEdge,d=f.namespace,b=""+d+"-container "+e+" "+c,document.getElementsByClassName(b)[0]},d=function(d){var e,f,h,i,j,l,m,o,p,q,r,s,t,u,v;for(e=document.getElementsByTagName("body")[0],p=Number(e.dataset.notific8s),l=d.settings.namespace,f=k(d),p+=1,e.dataset.notific8s=p,o=""+l+"-notification-"+p,h=n(d),m='<div class="$notificationClasses" id="'+o+'">',u=notific8RegisteredModules.beforeContent,q=0,s=u.length;s>q;q++)i=u[q],j=i.callbackMethod(d),h=h.concat(j.classes),m+=j.html;for(m+='<div class="'+d.settings.namespace+'-message-content">\n  '+b(d)+"\n  "+c(d)+"\n</div>",v=notific8RegisteredModules.afterContent,r=0,t=v.length;t>r;r++)i=v[r],j=i.callbackMethod(d),h=h.concat(j.classes),m+=j.html;m+=""+a(d)+"\n</div>",m=m.replace("$notificationClasses",h.join(" ")),f.innerHTML+=m,setTimeout(function(){return m=document.getElementById(o),m.style.height=""+d.settings.height+"px"},1),d.settings.onCreate&&d.settings.onCreate(m,d),setTimeout(function(){m=document.getElementById(o),m.className+=" open",sessionStorage[o]=JSON.stringify(d),d.settings.sticky||!function(a,b){setTimeout(function(){g(o,d)},b)}(m,Number(d.settings.life)+200)},5)},a=function(a){var b;return b='<div class="'+a.settings.namespace+"-close",a.settings.sticky?(b+=' sticky">',b+=""+a.settings.closeText):b+='">&times;',b+="</div>"},b=function(a){return null!=a.settings.heading&&"string"==typeof a.settings.heading?'<div class="'+a.settings.namespace+'-heading">\n'+a.settings.heading+"\n</div>":""},c=function(a){return'<div class="'+a.settings.namespace+'-message">\n'+a.message+"\n</div>"},n=function(a){var b;return b=[""+a.settings.namespace+"-notification","family-"+a.settings.theme,a.settings.color],a.settings.sticky&&b.push("sticky"),b},g=function(a,b){var c;c=document.getElementById(a),null!=c&&(c.className=c.className.replace("open",""),c.style.height=0,setTimeout(function(){var a;a=k(b),a.removeChild(c),delete sessionStorage[c.id],b.settings.onClose&&b.settings.onClose(c,b)},200))},h=function(a){var b,c;for(b in a)c=a[b],notific8Defaults[b]=c},p=function(a){var b,c;for(b=""+a.namespace+"-notification",c=document.getElementsByClassName(b);c.length>0;)c[0].parentNode.removeChild(c[0])},q=function(a){notific8Defaults.zindex=a},l=function(a,b){var c,e,g;c={settings:{},message:a};for(e in notific8Defaults)g=notific8Defaults[e],"height"!==e&&(c.settings[e]=g);for(e in b)g=b[e],c.settings[e]=g;null==c.settings.height&&(c.settings.height=notific8Defaults.height[c.settings.theme]),c.settings.height=Number(c.settings.height),c.settings.height<notific8Defaults.height[c.settings.theme]&&(c.settings.height=notific8Defaults.height[c.settings.theme]),f(c),d(c),c.settings.onInit&&c.settings.onInit(c)},f=function(a){var b;return b=["legacy","atomic","chicchat","materialish"],b.indexOf(a.settings.theme)>-1||(a.settings.color=a.settings.theme,a.settings.theme=a.settings.family,"undefined"==typeof console||null===console||null==console.warn)?void 0:console.warn("The option 'theme' now references the value that was formerly used for 'family'. The option 'color' was added in version 3.2.0 to replace the former functionality of the 'theme' option. The 'family' option and backwards compatibility will be removed in version 4.0. Please update the options configuration in your code as soon as possible.")},m=function(a){var b,c,d,e,f,h,i,j,k,l,m;for(b=document.getElementsByTagName("body")[0],b.dataset.notific8s=0,d=""+a.namespace+"-container",e="<div class='"+d+" $pos'></div>",l=["top right","top left","bottom right","bottom left"],h=0,j=l.length;j>h;h++)f=l[h],b.innerHTML+=e.replace("$pos",f);for(m=document.getElementsByClassName(d),i=0,k=m.length;k>i;i++)c=m[i],c.style.zIndex=notific8Defaults.zindex,c.addEventListener("click",function(a){var b,c,d;d=a.target,c=d.parentElement,b=JSON.parse(sessionStorage[c.id]),g(c.id,b)})},e=function(a){a.verticalEdge=(a.verticalEdge||notific8Defaults.verticalEdge).toLowerCase(),a.horizontalEdge=(a.horizontalEdge||notific8Defaults.horizontalEdge).toLowerCase(),"right"!==a.verticalEdge&&"left"!==a.verticalEdge&&(a.verticalEdge=notific8Defaults.verticalEdge),"top"!==a.horizontalEdge&&"bottom"!==a.horizontalEdge&&(a.horizontalEdge=notific8Defaults.horizontalEdge)},o=function(a,b,c,d){var e,f,g,h,i,k;for("string"==typeof a&&""!==a.trim()||j("moduleName should be a string"),("string"!=typeof b||"beforeContent"!==b&&"afterContent"!==b)&&j("position should be a string"),"object"!=typeof c&&j("defaultOptions should be an object"),"function"!=typeof d&&j("callbackMethod should be an function"),k=notific8RegisteredModules[b],h=0,i=k.length;i>h;h++)f=k[h],f.moduleName===a&&j("Module '"+a+"' has already been registered");for(g in c)e=c[g],notific8Defaults[g]=e;return notific8RegisteredModules[b].push({moduleName:a,callbackMethod:d})},j=function(a){throw console.error(a),new Error(a)},function(a,b){var c,d,f,g,k;switch("string"!=typeof a&&j("notific8 takes a string message as the first parameter"),null==b&&(b={}),b.hasOwnProperty("namespace")||"zindex"===a||(b.namespace="notific8"),a){case"configure":case"config":return h(b);case"zindex":return q(b);case"destroy":return i(b);case"remove":return p(b);case"registerModule":return 5!==arguments.length&&j("Registering a module requires the parameters moduleName, position, defaultOptions, and callbackMethod."),a=arguments[0],g=arguments[1],k=arguments[2],f=arguments[3],c=arguments[4],o(g,k,f,c);default:d=""+b.namespace+"-container",0===document.getElementsByClassName(d).length&&m(b),e(b),l(a,b)}}}();