/**
 * @author Will Steinmetz
 * Notification plug-in inspired by the notification style of Windows 8
 * Copyright (c)2013-2016, Will Steinmetz
 * Licensed under the BSD license.
 * http://opensource.org/licenses/BSD-3-Clause
 */var notific8;notific8=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;return window.notific8Defaults={life:1e4,family:"legacy",theme:"teal",sticky:!1,verticalEdge:"right",horizontalEdge:"top",zindex:1100,icon:!1,closeText:"close",onInit:null,onCreate:null,onClose:null,namespace:"notific8",height:{atomic:70,chicchat:120,legacy:90}},window.notific8RegisteredModules={beforeContent:[],afterContent:[]},h=function(a){var b,c,d;for(c=""+a.namespace+"-container",d=document.getElementsByClassName(c),b=document.getElementsByTagName("body")[0];d.length>0;)b.removeChild(d[0])},i=function(a){var b,c,d,e;return e=a.settings.verticalEdge,c=a.settings.horizontalEdge,d=a.settings.namespace,b=""+d+"-container "+e+" "+c,document.getElementsByClassName(b)[0]},d=function(d){var e,g,h,j,k,m,n,o,p,q,r,s,t,u,v;for(e=document.getElementsByTagName("body")[0],p=Number(e.dataset.notific8s),m=d.settings.namespace,g=i(d),p+=1,e.dataset.notific8s=p,o=""+m+"-notification-"+p,h=l(d),n='<div class="$notificationClasses" id="'+o+'">',u=notific8RegisteredModules.beforeContent,q=0,s=u.length;s>q;q++)j=u[q],k=j.callbackMethod(d),h=h.concat(k.classes),n+=k.html;for(n+='<div class="'+d.settings.namespace+'-message-content">\n  '+b(d)+"\n  "+c(d)+"\n</div>",v=notific8RegisteredModules.afterContent,r=0,t=v.length;t>r;r++)j=v[r],k=j.callbackMethod(d),h=h.concat(k.classes),n+=k.html;n+=""+a(d)+"\n</div>",n=n.replace("$notificationClasses",h.join(" ")),g.innerHTML+=n,setTimeout(function(){return n=document.getElementById(o),n.style.height=""+d.settings.height+"px"},1),d.settings.onCreate&&d.settings.onCreate(n,d),setTimeout(function(){n=document.getElementById(o),n.className+=" open",sessionStorage[o]=JSON.stringify(d),d.settings.sticky||!function(a,b){setTimeout(function(){f(o,d)},b)}(n,Number(d.settings.life)+200)},5)},a=function(a){var b;return b='<div class="'+a.settings.namespace+"-close",a.settings.sticky?(b+=' sticky">',b+=""+a.settings.closeText):b+='">&times;',b+="</div>"},b=function(a){return null!=a.settings.heading&&"string"==typeof a.settings.heading?'<div class="'+a.settings.namespace+'-heading">\n'+a.settings.heading+"\n</div>":""},c=function(a){return'<div class="'+a.settings.namespace+'-message">\n'+a.message+"\n</div>"},l=function(a){var b;return b=[""+a.settings.namespace+"-notification","family-"+a.settings.family,a.settings.theme],a.settings.sticky&&b.push("sticky"),b},f=function(a,b){var c;c=document.getElementById(a),null!=c&&(c.className=c.className.replace("open",""),c.style.height=0,setTimeout(function(){var a;a=i(b),a.removeChild(c),delete sessionStorage[c.id],b.settings.onClose&&b.settings.onClose(c,b)},200))},g=function(a){var b,c;for(b in a)c=a[b],notific8Defaults[b]=c},n=function(a){var b,c;for(b=""+a.namespace+"-notification",c=document.getElementsByClassName(b);c.length>0;)c[0].parentNode.removeChild(c[0])},o=function(a){notific8Defaults.zindex=a},j=function(a,b){var c,e,f;c={settings:{},message:a};for(e in notific8Defaults)f=notific8Defaults[e],"height"!==e&&(c.settings[e]=f);for(e in b)f=b[e],c.settings[e]=f;null==c.settings.height&&(c.settings.height=notific8Defaults.height[c.settings.family]),c.settings.height=Number(c.settings.height),c.settings.height<notific8Defaults.height[c.settings.family]&&(c.settings.height=notific8Defaults.height[c.settings.family]),d(c),c.settings.onInit&&c.settings.onInit(c)},k=function(a){var b,c,d,e,g,h,i,j;for(b=document.getElementsByTagName("body")[0],b.dataset.notific8s=0,d=""+a.namespace+"-container",e="<div class='"+d+" $pos'></div>",g=new DOMParser,b.innerHTML+=e.replace("$pos","top right"),b.innerHTML+=e.replace("$pos","top left"),b.innerHTML+=e.replace("$pos","bottom right"),b.innerHTML+=e.replace("$pos","bottom left"),j=document.getElementsByClassName(d),h=0,i=j.length;i>h;h++)c=j[h],c.style.zIndex=notific8Defaults.zindex,c.addEventListener("click",function(a){var b,c,d;d=a.target,c=d.parentElement,b=JSON.parse(sessionStorage[c.id]),f(c.id,b)})},e=function(a){a.verticalEdge=(a.verticalEdge||notific8Defaults.verticalEdge).toLowerCase(),a.horizontalEdge=(a.horizontalEdge||notific8Defaults.horizontalEdge).toLowerCase(),"right"!==a.verticalEdge&&"left"!==a.verticalEdge&&(a.verticalEdge=notific8Defaults.verticalEdge),"top"!==a.horizontalEdge&&"bottom"!==a.horizontalEdge&&(a.horizontalEdge=notific8Defaults.horizontalEdge)},m=function(a,b,c,d){var e,f,g,h,i,j,k;if("string"!=typeof a||""===a.trim())throw f="moduleName should be a string",console.error(f),new Error(f);if("string"!=typeof b||"beforeContent"!==b&&"afterContent"!==b)throw f="position should be a string",console.error(f),new Error(f);if("object"!=typeof c)throw f="defaultOptions should be an object",console.error(f),new Error(f);if("function"!=typeof d)throw f="callbackMethod should be an function",console.error(f),new Error(f);for(k=notific8RegisteredModules[b],i=0,j=k.length;j>i;i++)if(g=k[i],g.moduleName===a)throw f="Module '"+a+"' has already been registered",console.error(f),new Error(f);for(h in c)e=c[h],notific8Defaults[h]=e;return notific8RegisteredModules[b].push({moduleName:a,callbackMethod:d})},function(a,b){var c,d,f,i,l,p;if("string"!=typeof a)throw i="notific8 takes a string message as the first parameter",console.error(i),new Error(i);switch(null==b&&(b={}),b.hasOwnProperty("namespace")||"zindex"===a||(b.namespace="notific8"),a){case"configure":case"config":return g(b);case"zindex":return o(b);case"destroy":return h(b);case"remove":return n(b);case"registerModule":if(5!==arguments.length)throw i="Registering a module requires the parameters moduleName, position,\n defaultOptions, and callbackMethod.",console.log(i),new Error(i);return l=arguments[1],p=arguments[2],f=arguments[3],c=arguments[4],m(l,p,f,c);default:d=""+b.namespace+"-container",0===document.getElementsByClassName(d).length&&k(b),e(b),j(a,b)}}}(),function(a){var b,c,d,e,f;return f=null,d=function(a){return null!=a.settings.icon&&"string"==typeof a.settings.icon},c=function(a){var b;return d(a)?(b=[""+a.settings.namespace+"-icon",""+a.settings.namespace+"-fontastic-"+a.settings.icon],'<i class="'+b.join(" ")+'"></i>'):""},b=function(a){return d(a)?["has-icon"]:[]},e=function(a){return{classes:b(a),html:c(a)}},notific8("registerModule","icon","beforeContent",{icon:!1},e)}(window),function(a){a.notific8=function(a,b){return notific8(a,b)}}(jQuery);