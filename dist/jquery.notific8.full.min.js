/**
 * @author Will Steinmetz
 * Notification plug-in inspired by the notification style of Windows 8
 * Copyright (c)2013-2016, Will Steinmetz
 * Licensed under the BSD license.
 * http://opensource.org/licenses/BSD-3-Clause
 */var notific8;notific8=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;return window.notific8Defaults={life:1e4,theme:"legacy",color:"teal",sticky:!1,verticalEdge:"right",horizontalEdge:"top",zindex:1100,icon:!1,closeText:"close",onInit:null,onCreate:null,onClose:null,namespace:"notific8",height:{atomic:70,chicchat:120,legacy:90}},window.notific8RegisteredModules={beforeContent:[],afterContent:[]},i=function(a){var b,c,d;for(c=""+a.namespace+"-container",d=document.getElementsByClassName(c),b=document.getElementsByTagName("body")[0];d.length>0;)b.removeChild(d[0])},j=function(a){var b,c,d,e;return e=a.settings.verticalEdge,c=a.settings.horizontalEdge,d=a.settings.namespace,b=""+d+"-container "+e+" "+c,document.getElementsByClassName(b)[0]},d=function(d){var e,f,h,i,k,l,n,o,p,q,r,s,t,u,v;for(e=document.getElementsByTagName("body")[0],p=Number(e.dataset.notific8s),l=d.settings.namespace,f=j(d),p+=1,e.dataset.notific8s=p,o=""+l+"-notification-"+p,h=m(d),n='<div class="$notificationClasses" id="'+o+'">',u=notific8RegisteredModules.beforeContent,q=0,s=u.length;s>q;q++)i=u[q],k=i.callbackMethod(d),h=h.concat(k.classes),n+=k.html;for(n+='<div class="'+d.settings.namespace+'-message-content">\n  '+b(d)+"\n  "+c(d)+"\n</div>",v=notific8RegisteredModules.afterContent,r=0,t=v.length;t>r;r++)i=v[r],k=i.callbackMethod(d),h=h.concat(k.classes),n+=k.html;n+=""+a(d)+"\n</div>",n=n.replace("$notificationClasses",h.join(" ")),f.innerHTML+=n,setTimeout(function(){return n=document.getElementById(o),n.style.height=""+d.settings.height+"px"},1),d.settings.onCreate&&d.settings.onCreate(n,d),setTimeout(function(){n=document.getElementById(o),n.className+=" open",sessionStorage[o]=JSON.stringify(d),d.settings.sticky||!function(a,b){setTimeout(function(){g(o,d)},b)}(n,Number(d.settings.life)+200)},5)},a=function(a){var b;return b='<div class="'+a.settings.namespace+"-close",a.settings.sticky?(b+=' sticky">',b+=""+a.settings.closeText):b+='">&times;',b+="</div>"},b=function(a){return null!=a.settings.heading&&"string"==typeof a.settings.heading?'<div class="'+a.settings.namespace+'-heading">\n'+a.settings.heading+"\n</div>":""},c=function(a){return'<div class="'+a.settings.namespace+'-message">\n'+a.message+"\n</div>"},m=function(a){var b;return b=[""+a.settings.namespace+"-notification","family-"+a.settings.theme,a.settings.color],a.settings.sticky&&b.push("sticky"),b},g=function(a,b){var c;c=document.getElementById(a),null!=c&&(c.className=c.className.replace("open",""),c.style.height=0,setTimeout(function(){var a;a=j(b),a.removeChild(c),delete sessionStorage[c.id],b.settings.onClose&&b.settings.onClose(c,b)},200))},h=function(a){var b,c;for(b in a)c=a[b],notific8Defaults[b]=c},o=function(a){var b,c;for(b=""+a.namespace+"-notification",c=document.getElementsByClassName(b);c.length>0;)c[0].parentNode.removeChild(c[0])},p=function(a){notific8Defaults.zindex=a},k=function(a,b){var c,e,g;c={settings:{},message:a};for(e in notific8Defaults)g=notific8Defaults[e],"height"!==e&&(c.settings[e]=g);for(e in b)g=b[e],c.settings[e]=g;null==c.settings.height&&(c.settings.height=notific8Defaults.height[c.settings.theme]),c.settings.height=Number(c.settings.height),c.settings.height<notific8Defaults.height[c.settings.theme]&&(c.settings.height=notific8Defaults.height[c.settings.theme]),f(c),d(c),c.settings.onInit&&c.settings.onInit(c)},f=function(a){return["legacy","atomic","chicchat"].indexOf(a.settings.theme)>-1||(a.settings.color=a.settings.theme,a.settings.theme=a.settings.family,"undefined"==typeof console||null===console||null==console.warn)?void 0:console.warn("The option 'theme' now references the value that was formerly used for 'family'. The option 'color' was added in version 3.2.0 to replace the former functionality of the 'theme' option. The 'family' option and backwards compatibility will be removed in version 4.0. Please update the options configuration in your code as soon as possible.")},l=function(a){var b,c,d,e,f,h,i,j;for(b=document.getElementsByTagName("body")[0],b.dataset.notific8s=0,d=""+a.namespace+"-container",e="<div class='"+d+" $pos'></div>",f=new DOMParser,b.innerHTML+=e.replace("$pos","top right"),b.innerHTML+=e.replace("$pos","top left"),b.innerHTML+=e.replace("$pos","bottom right"),b.innerHTML+=e.replace("$pos","bottom left"),j=document.getElementsByClassName(d),h=0,i=j.length;i>h;h++)c=j[h],c.style.zIndex=notific8Defaults.zindex,c.addEventListener("click",function(a){var b,c,d;d=a.target,c=d.parentElement,b=JSON.parse(sessionStorage[c.id]),g(c.id,b)})},e=function(a){a.verticalEdge=(a.verticalEdge||notific8Defaults.verticalEdge).toLowerCase(),a.horizontalEdge=(a.horizontalEdge||notific8Defaults.horizontalEdge).toLowerCase(),"right"!==a.verticalEdge&&"left"!==a.verticalEdge&&(a.verticalEdge=notific8Defaults.verticalEdge),"top"!==a.horizontalEdge&&"bottom"!==a.horizontalEdge&&(a.horizontalEdge=notific8Defaults.horizontalEdge)},n=function(a,b,c,d){var e,f,g,h,i,j,k;if("string"!=typeof a||""===a.trim())throw f="moduleName should be a string",console.error(f),new Error(f);if("string"!=typeof b||"beforeContent"!==b&&"afterContent"!==b)throw f="position should be a string",console.error(f),new Error(f);if("object"!=typeof c)throw f="defaultOptions should be an object",console.error(f),new Error(f);if("function"!=typeof d)throw f="callbackMethod should be an function",console.error(f),new Error(f);for(k=notific8RegisteredModules[b],i=0,j=k.length;j>i;i++)if(g=k[i],g.moduleName===a)throw f="Module '"+a+"' has already been registered",console.error(f),new Error(f);for(h in c)e=c[h],notific8Defaults[h]=e;return notific8RegisteredModules[b].push({moduleName:a,callbackMethod:d})},function(a,b){var c,d,f,g,j,m;if("string"!=typeof a)throw g="notific8 takes a string message as the first parameter",console.error(g),new Error(g);switch(null==b&&(b={}),b.hasOwnProperty("namespace")||"zindex"===a||(b.namespace="notific8"),a){case"configure":case"config":return h(b);case"zindex":return p(b);case"destroy":return i(b);case"remove":return o(b);case"registerModule":if(5!==arguments.length)throw g="Registering a module requires the parameters moduleName, position,\n defaultOptions, and callbackMethod.",console.log(g),new Error(g);return j=arguments[1],m=arguments[2],f=arguments[3],c=arguments[4],n(j,m,f,c);default:d=""+b.namespace+"-container",0===document.getElementsByClassName(d).length&&l(b),e(b),k(a,b)}}}(),function(a){var b,c,d,e,f;return f=null,d=function(){return null!=f.settings.icon&&"string"==typeof f.settings.icon},c=function(){var a;return d()?(a=[""+f.settings.namespace+"-icon",""+f.settings.namespace+"-fontastic-"+f.settings.icon],'<i class="'+a.join(" ")+'"></i>'):""},b=function(){return d()?["has-icon"]:[]},e=function(a){return f=a,{classes:b(),html:c()}},notific8("registerModule","icon","beforeContent",{icon:!1},e)}(window),function(a){a.notific8=function(a,b){return notific8(a,b)}}(jQuery);